{% extends "base.html" %}

{% block title %}News & Newsletter - Gem Assist Enterprise{% endblock %}

{% block content %}
<section class="page-header news-header-gradient">
    <div class="container">
        <div class="row">
            <div class="col-12 text-center">
                <div class="news-badge-container mb-3">
                    <span class="news-live-badge">
                        <i class="fas fa-broadcast-tower me-2"></i>
                        <span class="pulse-dot"></span>
                        Live Updates
                    </span>
                </div>
                <h1 class="news-title-gradient">
                    <i class="fas fa-newspaper me-3"></i>
                    GEM News & Newsletter
                </h1>
                <p class="lead news-subtitle">Stay informed about the latest security trends, industry insights, and company updates</p>
                <div class="news-stats-row mt-4">
                    <div class="news-stat-item">
                        <i class="fas fa-rss text-warning"></i>
                        <span>Daily Updates</span>
                    </div>
                    <div class="news-stat-item">
                        <i class="fas fa-users text-info"></i>
                        <span>10K+ Subscribers</span>
                    </div>
                    <div class="news-stat-item">
                        <i class="fas fa-shield-alt text-success"></i>
                        <span>Verified Sources</span>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

{% with messages = get_flashed_messages(with_categories=true) %}
    {% if messages %}
        <div class="container mt-3">
            {% for category, message in messages %}
                <div class="alert alert-{{ category }} alert-dismissible fade show" role="alert">
                    {{ message }}
                    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                </div>
            {% endfor %}
        </div>
    {% endif %}
{% endwith %}

<section class="py-5">
    <div class="container">
        <!-- Display Notion News if Available -->
        {% if notion_news %}
        <div class="row mb-4">
            <div class="col-12">
                <div class="alert alert-info">
                    <i class="fas fa-database me-2"></i>Content from Notion CMS - {{ notion_news|length }} articles
                </div>
            </div>
        </div>
        
        <div class="row">
            <div class="col-lg-8">
                <div class="news-articles">
                    {% for article in notion_news %}
                    <article class="news-article">
                        <div class="article-header">
                            <div class="article-meta">
                                {% if article.category %}
                                    {% for cat in article.category %}
                                    <span class="badge bg-info">{{ cat }}</span>
                                    {% endfor %}
                                {% endif %}
                                {% if article.publish_date %}
                                <span class="text-muted">{{ article.publish_date }}</span>
                                {% endif %}
                            </div>
                            <h3>{{ article.title }}</h3>
                        </div>
                        <div class="article-content">
                            <p>{{ article.content[:500] }}...</p>
                        </div>
                        <div class="article-footer">
                            {% if article.author %}
                            <span class="text-muted">By {{ article.author }}</span>
                            {% endif %}
                            {% if article.external_link %}
                            <a href="{{ article.external_link }}" target="_blank" class="btn btn-sm btn-outline-primary ms-2">
                                Read More <i class="fas fa-external-link-alt ms-1"></i>
                            </a>
                            {% endif %}
                        </div>
                    </article>
                    {% endfor %}
                </div>
            </div>
            
        </div>
        {% else %}
        <!-- Default Static News Content -->
        <div class="row">
            <div class="col-lg-8">
                <!-- Featured Article -->
                <div class="featured-article-card mb-4">
                    <div class="featured-badge">
                        <i class="fas fa-star me-2"></i>Featured Story
                    </div>
                    <div class="row g-0">
                        <div class="col-md-5">
                            <div class="featured-image-placeholder">
                                <i class="fas fa-shield-alt"></i>
                                <span>Security Operations</span>
                            </div>
                        </div>
                        <div class="col-md-7">
                            <div class="featured-content">
                                <div class="article-meta mb-3">
                                    <span class="badge badge-gradient-danger">Security Alert</span>
                                    <span class="text-muted ms-2"><i class="far fa-clock me-1"></i>January 15, 2025</span>
                                </div>
                                <h2 class="featured-title">Enhanced Threat Detection Capabilities Deployed</h2>
                                <p class="featured-excerpt">GEM Enterprise has successfully deployed advanced AI-powered threat detection systems across all monitoring services. This enhancement provides 40% faster threat identification and automated response capabilities.</p>
                                <div class="featured-stats">
                                    <div class="stat-item">
                                        <strong>40%</strong>
                                        <span>Faster Detection</span>
                                    </div>
                                    <div class="stat-item">
                                        <strong>99.9%</strong>
                                        <span>Accuracy</span>
                                    </div>
                                    <div class="stat-item">
                                        <strong>24/7</strong>
                                        <span>Monitoring</span>
                                    </div>
                                </div>
                                <a href="#" class="btn btn-gradient-primary mt-3">
                                    Read Full Article <i class="fas fa-arrow-right ms-2"></i>
                                </a>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="news-articles">
                    <article class="news-article-modern">
                        <div class="article-image-wrapper">
                            <div class="article-category-tag">Technology</div>
                            <div class="article-image-placeholder">
                                <i class="fas fa-robot"></i>
                            </div>
                        </div>
                        <div class="article-body">
                            <div class="article-meta">
                                <span class="badge badge-gradient-info">AI Technology</span>
                                <span class="text-muted ms-2"><i class="far fa-clock me-1"></i>January 15, 2025</span>
                                <span class="reading-time ms-2"><i class="fas fa-book-reader me-1"></i>5 min read</span>
                            </div>
                            <h3 class="article-title">AI-Powered Security Enhancement</h3>
                            <p class="article-excerpt">Discover how our latest AI integration is revolutionizing cybersecurity monitoring and threat response.</p>
                            <div class="article-highlights">
                                <div class="highlight-item">
                                    <i class="fas fa-check-circle text-success"></i>
                                    <span>Machine learning-based anomaly detection</span>
                                </div>
                                <div class="highlight-item">
                                    <i class="fas fa-check-circle text-success"></i>
                                    <span>Automated incident response protocols</span>
                                </div>
                                <div class="highlight-item">
                                    <i class="fas fa-check-circle text-success"></i>
                                    <span>Enhanced threat intelligence integration</span>
                                </div>
                            </div>
                            <div class="article-footer">
                                <div class="author-info">
                                    <div class="author-avatar">
                                        <i class="fas fa-user-shield"></i>
                                    </div>
                                    <div class="author-details">
                                        <span class="author-name">Security Team</span>
                                        <span class="author-role">Cybersecurity Division</span>
                                    </div>
                                </div>
                                <a href="#" class="btn-read-more">
                                    Read More <i class="fas fa-arrow-right ms-1"></i>
                                </a>
                            </div>
                        </div>
                    </article>
                    
                    <article class="news-article-modern">
                        <div class="article-image-wrapper">
                            <div class="article-category-tag">Partnership</div>
                            <div class="article-image-placeholder bg-success-gradient">
                                <i class="fas fa-handshake"></i>
                            </div>
                        </div>
                        <div class="article-body">
                            <div class="article-meta">
                                <span class="badge badge-gradient-success">Partnership</span>
                                <span class="text-muted ms-2"><i class="far fa-clock me-1"></i>January 10, 2025</span>
                                <span class="reading-time ms-2"><i class="fas fa-book-reader me-1"></i>4 min read</span>
                            </div>
                            <h3 class="article-title">Alliance Trust Realty Expands Real Estate Portfolio</h3>
                            <p class="article-excerpt">Strategic partnership drives significant portfolio expansion with premium commercial and residential properties across key markets.</p>
                            <div class="article-highlights">
                                <div class="highlight-item">
                                    <i class="fas fa-building text-success"></i>
                                    <span>Commercial office complexes</span>
                                </div>
                                <div class="highlight-item">
                                    <i class="fas fa-home text-success"></i>
                                    <span>Residential investment properties</span>
                                </div>
                            </div>
                            <div class="article-footer">
                                <div class="author-info">
                                    <div class="author-avatar bg-success-gradient">
                                        <i class="fas fa-briefcase"></i>
                                    </div>
                                    <div class="author-details">
                                        <span class="author-name">Real Estate Team</span>
                                        <span class="author-role">Alliance Trust Division</span>
                                    </div>
                                </div>
                                <a href="#" class="btn-read-more">
                                    Read More <i class="fas fa-arrow-right ms-1"></i>
                                </a>
                            </div>
                        </div>
                    </article>
                    
                    <article class="news-article-modern">
                        <div class="article-image-wrapper">
                            <div class="article-category-tag">Technology</div>
                            <div class="article-image-placeholder bg-info-gradient">
                                <i class="fab fa-telegram-plane"></i>
                            </div>
                        </div>
                        <div class="article-body">
                            <div class="article-meta">
                                <span class="badge badge-gradient-info">Technology Update</span>
                                <span class="text-muted ms-2"><i class="far fa-clock me-1"></i>January 5, 2025</span>
                                <span class="reading-time ms-2"><i class="fas fa-book-reader me-1"></i>6 min read</span>
                            </div>
                            <h3 class="article-title">Telegram Automation Platform Major Upgrade</h3>
                            <p class="article-excerpt">Enhanced security features, improved API integration, and expanded customization options revolutionize our automation services.</p>
                            <div class="article-highlights">
                                <div class="highlight-item">
                                    <i class="fas fa-lock text-info"></i>
                                    <span>Advanced encryption protocols</span>
                                </div>
                                <div class="highlight-item">
                                    <i class="fas fa-cogs text-info"></i>
                                    <span>Custom workflow builder</span>
                                </div>
                            </div>
                            <div class="article-footer">
                                <div class="author-info">
                                    <div class="author-avatar bg-info-gradient">
                                        <i class="fas fa-robot"></i>
                                    </div>
                                    <div class="author-details">
                                        <span class="author-name">Automation Team</span>
                                        <span class="author-role">Technology Division</span>
                                    </div>
                                </div>
                                <a href="#" class="btn-read-more">
                                    Read More <i class="fas fa-arrow-right ms-1"></i>
                                </a>
                            </div>
                        </div>
                    </article>
                    
                    <article class="news-article-modern">
                        <div class="article-image-wrapper">
                            <div class="article-category-tag">Industry Insight</div>
                            <div class="article-image-placeholder bg-warning-gradient">
                                <i class="fas fa-chart-line"></i>
                            </div>
                        </div>
                        <div class="article-body">
                            <div class="article-meta">
                                <span class="badge badge-gradient-warning">Industry Insight</span>
                                <span class="text-muted ms-2"><i class="far fa-clock me-1"></i>December 28, 2024</span>
                                <span class="reading-time ms-2"><i class="fas fa-book-reader me-1"></i>8 min read</span>
                            </div>
                            <h3 class="article-title">Cybersecurity Trends for 2025: What to Expect</h3>
                            <p class="article-excerpt">Expert analysis of emerging cybersecurity trends and threats that businesses should prepare for in the coming year.</p>
                            <div class="article-highlights">
                                <div class="highlight-item">
                                    <i class="fas fa-brain text-warning"></i>
                                    <span>AI-powered cyber defenses</span>
                                </div>
                                <div class="highlight-item">
                                    <i class="fas fa-shield-virus text-warning"></i>
                                    <span>Zero-trust architecture</span>
                                </div>
                            </div>
                            <div class="article-footer">
                                <div class="author-info">
                                    <div class="author-avatar bg-warning-gradient">
                                        <i class="fas fa-user-graduate"></i>
                                    </div>
                                    <div class="author-details">
                                        <span class="author-name">Research Team</span>
                                        <span class="author-role">Security Analytics</span>
                                    </div>
                                </div>
                                <a href="#" class="btn-read-more">
                                    Read More <i class="fas fa-arrow-right ms-1"></i>
                                </a>
                            </div>
                        </div>
                    </article>
                </div>
                
                <div class="pagination-section mt-5">
                    <nav>
                        <ul class="pagination justify-content-center">
                            <li class="page-item disabled">
                                <span class="page-link">Previous</span>
                            </li>
                            <li class="page-item active">
                                <span class="page-link">1</span>
                            </li>
                            <li class="page-item">
                                <a class="page-link" href="#">2</a>
                            </li>
                            <li class="page-item">
                                <a class="page-link" href="#">3</a>
                            </li>
                            <li class="page-item">
                                <a class="page-link" href="#">Next</a>
                            </li>
                        </ul>
                    </nav>
                </div>
            </div>
            
            <div class="col-lg-4">
                <div class="sidebar">
                    <div class="newsletter-signup-modern">
                        <div class="newsletter-icon">
                            <i class="fas fa-envelope-open"></i>
                        </div>
                        <h4 class="newsletter-title">Subscribe to Our Newsletter</h4>
                        <p class="newsletter-description">Join 10,000+ professionals receiving weekly security insights and exclusive updates.</p>
                        <form action="{{ url_for('subscribe_newsletter') }}" method="POST" id="newsletterForm">
                            <div class="mb-3">
                                <div class="input-group-modern">
                                    <i class="fas fa-user"></i>
                                    <input type="text" name="name" class="form-control-modern" placeholder="Your name (optional)">
                                </div>
                            </div>
                            <div class="mb-3">
                                <div class="input-group-modern">
                                    <i class="fas fa-envelope"></i>
                                    <input type="email" name="email" class="form-control-modern" placeholder="Your email address" required>
                                </div>
                            </div>
                            <div class="mb-3">
                                <div class="input-group-modern">
                                    <i class="fas fa-filter"></i>
                                    <select name="interests" class="form-select-modern">
                                        <option value="all">All Updates</option>
                                        <option value="security">Security Updates</option>
                                        <option value="realestate">Real Estate News</option>
                                        <option value="technology">Technology Insights</option>
                                    </select>
                                </div>
                            </div>
                            <button type="submit" class="btn btn-gradient-primary w-100">
                                <i class="fas fa-bell me-2"></i>Subscribe Now
                            </button>
                            <div class="newsletter-benefits mt-3">
                                <div class="benefit-item">
                                    <i class="fas fa-check-circle text-success"></i>
                                    <span>Weekly security insights</span>
                                </div>
                                <div class="benefit-item">
                                    <i class="fas fa-check-circle text-success"></i>
                                    <span>Exclusive industry reports</span>
                                </div>
                                <div class="benefit-item">
                                    <i class="fas fa-check-circle text-success"></i>
                                    <span>Early access to features</span>
                                </div>
                            </div>
                        </form>
                    </div>
                    
                    <div class="trending-topics-widget">
                        <h5 class="widget-title">
                            <i class="fas fa-fire text-danger me-2"></i>Trending Topics
                        </h5>
                        <div class="trending-list">
                            <a href="#" class="trending-item">
                                <span class="trending-number">#1</span>
                                <div class="trending-content">
                                    <span class="trending-title">AI Security Threats</span>
                                    <span class="trending-stats">
                                        <i class="fas fa-eye me-1"></i>2.5K views
                                    </span>
                                </div>
                            </a>
                            <a href="#" class="trending-item">
                                <span class="trending-number">#2</span>
                                <div class="trending-content">
                                    <span class="trending-title">Real Estate Investing</span>
                                    <span class="trending-stats">
                                        <i class="fas fa-eye me-1"></i>1.8K views
                                    </span>
                                </div>
                            </a>
                            <a href="#" class="trending-item">
                                <span class="trending-number">#3</span>
                                <div class="trending-content">
                                    <span class="trending-title">Automation Tools</span>
                                    <span class="trending-stats">
                                        <i class="fas fa-eye me-1"></i>1.2K views
                                    </span>
                                </div>
                            </a>
                        </div>
                    </div>
                    
                    <div class="live-status-widget">
                        <h5 class="widget-title">
                            <span class="pulse-dot-small"></span>Live Security Status
                        </h5>
                        <div class="status-grid">
                            <div class="status-card">
                                <div class="status-icon bg-success-gradient">
                                    <i class="fas fa-shield-check"></i>
                                </div>
                                <div class="status-info">
                                    <span class="status-label">Threat Monitoring</span>
                                    <span class="status-value">Active</span>
                                </div>
                            </div>
                            <div class="status-card">
                                <div class="status-icon bg-info-gradient">
                                    <i class="fas fa-tachometer-alt"></i>
                                </div>
                                <div class="status-info">
                                    <span class="status-label">Performance</span>
                                    <span class="status-value">Optimal</span>
                                </div>
                            </div>
                            <div class="status-card">
                                <div class="status-icon bg-primary-gradient">
                                    <i class="fas fa-headset"></i>
                                </div>
                                <div class="status-info">
                                    <span class="status-label">Support Team</span>
                                    <span class="status-value">Ready</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="quick-links-modern">
                        <h5 class="widget-title">
                            <i class="fas fa-link me-2"></i>Quick Access
                        </h5>
                        <div class="links-grid">
                            <a href="{{ url_for('services') }}" class="quick-link-item">
                                <i class="fas fa-cogs"></i>
                                <span>Services</span>
                            </a>
                            <a href="{{ url_for('client_access') }}" class="quick-link-item">
                                <i class="fas fa-user"></i>
                                <span>Client Portal</span>
                            </a>
                            <a href="{{ url_for('contact') }}" class="quick-link-item">
                                <i class="fas fa-envelope"></i>
                                <span>Contact</span>
                            </a>
                            <a href="{{ url_for('testimonials') }}" class="quick-link-item">
                                <i class="fas fa-star"></i>
                                <span>Reviews</span>
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        {% endif %}
    </div>
</section>
{% endblock %}
