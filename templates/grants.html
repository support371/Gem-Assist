{% extends "base.html" %}
{% block content %}
<div class="container mt-4">
    <h1>Manage Grants</h1>
    <form id="grant-form" class="mb-4">
        <input type="text" id="name" placeholder="Grant Name" class="form-control mb-2" required>
        <input type="number" id="amount" placeholder="Amount" class="form-control mb-2" required>
        <button type="submit" class="btn btn-primary">Create Grant</button>
    </form>
    <div id="grant-list"></div>
</div>
<script>
async function loadGrants() {
    const res = await fetch('/api/grants');
    const data = await res.json();
    document.getElementById('grant-list').innerHTML = data.map(g => `<div class="card mb-2 p-2">${g.name} - $${g.amount} (${g.status})</div>`).join('');
}
document.getElementById('grant-form').onsubmit = async (e) => {
    e.preventDefault();
    await fetch('/api/grants', {
        method: 'POST',
        headers: {'Content-Type': 'application/json'},
        body: JSON.stringify({name: document.getElementById('name').value, amount: document.getElementById('amount').value})
    });
    loadGrants();
};
loadGrants();
</script>
{% endblock %}
