<!-- GitHub OAuth Authentication Buttons -->
{% if session.get('github_user') %}
<!-- User is logged in -->
<div class="auth-user-info dropdown ms-2">
  <button
    class="btn btn-sm btn-outline-light dropdown-toggle d-flex align-items-center"
    type="button"
    data-bs-toggle="dropdown"
  >
    {% if session['github_user'].get('avatar_url') %}
    <img
      src="{{ session['github_user']['avatar_url'] }}"
      alt="{{ session['github_user'].get('login', 'User') }}"
      class="rounded-circle me-2"
      width="24"
      height="24"
    />
    {% else %}
    <i class="fas fa-user-circle me-2"></i>
    {% endif %} {{ session['github_user'].get('name') or
    session['github_user'].get('login', 'User') }}
  </button>
  <ul class="dropdown-menu dropdown-menu-end dropdown-menu-dark">
    <li>
      <span class="dropdown-header"
        >{{ session['github_user'].get('login', 'User') }}</span
      >
    </li>
    <li><hr class="dropdown-divider" /></li>
    {% if session['github_user'].get('bio') %}
    <li>
      <span class="dropdown-item-text small text-muted"
        >{{ session['github_user']['bio'] }}</span
      >
    </li>
    {% endif %}
    <li>
      <a class="dropdown-item" href="{{ url_for('auth_logout') }}">
        <i class="fas fa-sign-out-alt me-2"></i>Logout
      </a>
    </li>
  </ul>
</div>
{% else %}
<!-- User not logged in -->
<a
  href="{{ url_for('github_login') }}"
  class="btn btn-sm btn-outline-light ms-2"
>
  <i class="fab fa-github me-1"></i>Login with GitHub
</a>
{% endif %}
